# TaskTracker REST API

## –û–±–∑–æ—Ä 
Task Tracker API ‚Äî —ç—Ç–æ backend-—Å–µ—Ä–≤–∏—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∞—Ä—Ö–∏–≤–Ω—ã—Ö –∏ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π —á–µ—Ä–µ–∑ soft-delete. –ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–∞–∫ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –ø—Ä–æ–¥–∞–∫—à–µ–Ω-–≥–æ—Ç–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å —Å –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ —á–∏—Å—Ç—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É, –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞–º–∏, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å.

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Docker
- Docker Compose

### –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
```bash
# –°–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose up

# –°–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
docker-compose build

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose down
```

–°–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:8080`

---

## üìä –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö

### –°—É—â–Ω–æ—Å—Ç—å Task
```go
type Task struct {
    UUID        uuid.UUID  `json:"uuid" db:"uuid"`                   // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
    Title       string     `json:"title" db:"title"`                 // –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∑–∞–¥–∞—á–∏
    Description string     `json:"description" db:"description"`     // –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
    Status      Status     `json:"status" db:"status"`               // –°—Ç–∞—Ç—É—Å: new, done, in progress, overdue
    DueTime     time.Time  `json:"due_time" db:"due_time"`           // –°—Ä–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
    CreatedAt   time.Time  `json:"created_at" db:"created_at"`       // –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è
    UpdatedAt   *time.Time `json:"updated_at,omitempty" db:"updated_at,omitempty"` // –í—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
    Version     int        `db:"version" json:"version"`             // –í–µ—Ä—Å–∏—è –¥–ª—è –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
    Flag        Flag       `json:"flag" db:"flag"`                   // –§–ª–∞–≥: active, archived, deleted
    DeletedAt   *time.Time `json:"deleted_at,omitempty" db:"deleted_at,omitempty"` // –í—Ä–µ–º—è —É–¥–∞–ª–µ–Ω–∏—è (soft delete)
}
```

### –°—Ç–∞—Ç—É—Å—ã –∑–∞–¥–∞—á (Status)
- `StatusNew` - –Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞
- `StatusInProgress` - –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- `StatusDone` - –≤—ã–ø–æ–ª–Ω–µ–Ω–∞
- `StatusOverdue` - –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–∞ (–≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

### –§–ª–∞–≥–∏ –∑–∞–¥–∞—á (Flag)
- `FlagActive` - –∞–∫—Ç–∏–≤–Ω–∞—è –∑–∞–¥–∞—á–∞
- `FlagArchived` - –∑–∞–¥–∞—á–∞ –≤ –∞—Ä—Ö–∏–≤–µ
- `FlagDeleted` - —É–¥–∞–ª–µ–Ω–Ω–∞—è –∑–∞–¥–∞—á–∞ (soft delete)

---

## üîß –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°–ª–æ–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
```
HTTP Layer (handlers)
    ‚Üì
Service Layer (–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞)
    ‚Üì
Repository Layer (–¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º)
    ‚Üì
Data Storage (PostgreSQL / In-Memory)
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã
- **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏** - HTTP, –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ —Å–ª–æ–π –¥–∞–Ω–Ω—ã—Ö –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã
- **–ò–Ω–≤–µ—Ä—Å–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** - –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∑–∞–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
- **–ó–∞–º–µ–Ω—è–µ–º–æ—Å—Ç—å —Ö—Ä–∞–Ω–∏–ª–∏—â–∞** - —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é repository –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
- **–Ø–≤–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞** - `context.Context` –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ –≤—Å–µ —Å–ª–æ–∏

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **Handlers** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤, –≤–∞–ª–∏–¥–∞—Ü–∏—è, –º–∞–ø–ø–∏–Ω–≥ DTO
- **Service** - –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞, —Ä–∞–±–æ—Ç–∞ —Å –¥–æ–º–µ–Ω–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏
- **Repository** - –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º
- **DTO** - Data Transfer Objects

---

## üì° API Endpoints

### –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –∑–∞–¥–∞—á–∞–º–∏
```
GET    /tasks                    - –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á
POST   /tasks                    - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É
GET    /tasks/{id}               - –ü–æ–ª—É—á–∏—Ç—å –∑–∞–¥–∞—á—É –ø–æ ID
PUT    /tasks/{id}               - –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–¥–∞—á—É –ø–æ ID
DELETE /tasks/{id}               - –£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É (soft delete)
```

### –ê—Ä—Ö–∏–≤–∞—Ü–∏—è –∑–∞–¥–∞—á
```
POST   /tasks/{id}/archive       - –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á—É
POST   /tasks/{id}/unarchive     - –†–∞–∑–∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á—É
GET    /tasks/archived           - –ü–æ–ª—É—á–∏—Ç—å –∞—Ä—Ö–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏
```

### –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
```
GET    /admin/tasks/deleted      - –ü–æ–ª—É—á–∏—Ç—å —É–¥–∞–ª–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ (soft delete)
POST   /admin/tasks/{id}/restore - –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —É–¥–∞–ª–µ–Ω–Ω—É—é –∑–∞–¥–∞—á—É
DELETE /admin/tasks/{id}/purge   - –û–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ (hard delete)
```

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ endpoints
```
GET    /tasks/all               - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–¥–∞—á–∏ (–≤–∫–ª—é—á–∞—è –∞—Ä—Ö–∏–≤–Ω—ã–µ)
GET    /tasks/overdue           - –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏
GET    /health                  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–∞
```

---

## ‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **Zap logger** –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- –õ–æ–≥–∏—Ä—É—é—Ç—Å—è –≤—Å–µ –≤—Ö–æ–¥—è—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã
- –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è: Info, Warn, Error

### Middleware
- `RequestID` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
- `Logging` - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤
- `RateLimit` - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ (100 –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫)

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- –û—Å–Ω–æ–≤–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ: **PostgreSQL**
- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ: **In-Memory** (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
- –°–æ–∑–¥–∞–Ω—ã –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤:
  - –ò–Ω–¥–µ–∫—Å –ø–æ `flag` –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö/–∞—Ä—Ö–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á
  - –ò–Ω–¥–µ–∫—Å –ø–æ `status` –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ –¥–æ–º–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –º–∞–ø–ø–∏–Ω–≥ –æ—à–∏–±–æ–∫ –≤ HTTP-–æ—Ç–≤–µ—Ç—ã
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —á–µ—Ä–µ–∑ –ø–æ–ª–µ `version`

### –ö–æ–Ω—Ç–µ–∫—Å—Ç—ã –∏ –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª
- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–∏–Ω–∏–º–∞—é—Ç `context.Context`
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–∞–π–º–∞—É—Ç–æ–≤ –∏ –æ—Ç–º–µ–Ω—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤
- Graceful shutdown –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü–æ–¥—Ö–æ–¥ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
- **Unit-—Ç–µ—Å—Ç—ã** –¥–ª—è service-—Å–ª–æ—è
- Repository –ø–æ–¥–º–µ–Ω—è–µ—Ç—Å—è –º–æ–∫–∞–º–∏ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
- –¢–µ—Å—Ç–∏—Ä—É—é—Ç—Å—è —É—Å–ø–µ—à–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏ –æ—à–∏–±–æ—á–Ω—ã–µ –∫–µ–π—Å—ã
- –§–æ–∫—É—Å –Ω–∞ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ, –∞ –Ω–µ –¥–µ—Ç–∞–ª—è—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã
go test ./...

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
go test -cover ./...
```

---

## üóÑÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```
DB_HOST=postgres
DB_PORT=5432
DB_NAME=tasktracker
DB_USER=postgres
DB_PASSWORD=postgres
SERVER_ADDRESS=:8080
LOG_LEVEL=info
```

### Docker Compose
–°–µ—Ä–≤–∏—Å –≤–∫–ª—é—á–∞–µ—Ç:
- Go –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (API —Å–µ—Ä–≤–µ—Ä)
- PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö


---

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ SQL-–∑–∞–ø—Ä–æ—Å—ã (prepared statements)
- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø–æ–ª–µ–π
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è –¥–ª—è —Å–ø–∏—Å–∫–æ–≤ –∑–∞–¥–∞—á
- Rate limiting –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç DoS-–∞—Ç–∞–∫
- –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–ª—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- Health check endpoint (`/health`)
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- –ú–µ—Ç—Ä–∏–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤


