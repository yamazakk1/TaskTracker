# TaskTracker REST API

## Обзор 
Task Tracker API — это backend-сервис для управления задачами.
Проект реализован как учебный, но максимально приближённый к реальному продакшн-сервису, с акцентом на архитектуру, корректную работу с контекстами, базой данных и тестируемость.

Цель проекта — продемонстрировать навыки backend-разработки на Go и инженерное мышление, а не количество реализованных фич.

---

## Функциональность
### Сущность Task
- `id`
- `title`
- `description`
- `status(new, in_progress, done)`
- `due_date`
- `created_at`
- `updated_at`
- `deleted_at` (soft delete)

Soft delete предполагает, что вместо реального удаления записи из хранилища, статус задачи становится равен `done`. (иными словами задача переходит в "архив")
### API ендпоинты
- `POST /tasks` - создание задачи
- `GET /tasks` - получение списка задач (с фильтрацией и пагинацией)
- `GET /tasks/{id}` - получение задачи по id
- `PUT /tasks/{id}` - обновление задачи по id
- `DELET /tasks/{id}` - soft delete задачи
Фильтрация по статусу (`Task.status`) и по дедлайну (`Task.due_date`).

---

## Архитектура
```
HTTP (handlers)
   ↓
Service (бизнес-логика)
   ↓
Repository (доступ к данным)
```
### Основные принципы
- **Разделение отвественности** - HTTP, бизнес логика и слой данных изолированы.
- **Инверсия зависимостей** - все зависимости задаются через интерфейсы
- **Заменяемость хранилища** - реализацию repository можно менять без изменений бизнес логики
- **Явная передача контекста** - `context.Context` передаётся через все слои
### Контексты и жизненный цикл
- Все операции принимают context.Context
- Для HTTP-запросов используются таймауты
- Отмена контекста корректно прокидывается до запросов к базе данных
- Реализован graceful shutdown для корректного завершения работы сервиса
### Хранение данных
- В качестве основной базы данных используется PostgreSQL
- Доступ к БД реализован через `pgx`
- SQL запросы пишутся вручную
- Для операций, где важна целостность данных, используются транзакции
### Обработка ошибок
- Ошибки рассматриваются как значения
- Доменные ошибки описаны явно
- Используется оборачивание ошибок (errors.Is, errors.As)
- Доменные ошибки централизовано маппятся в HTTP-ответы
### Тестирование
- Unit-тестами покрыт service-слой
- Repository подменяется моками через интерфейсами
- Используются test-driven tests
- Тестируются как успешные сценарии, так и ошибочные кейсы 

Фокус сделан на проверке бизнес-логике, а не деталей реализации

### Сознательно не реализовано
Для сохранения личного фокуса на отработке базовых знаний были намеренно исключены:

- аутентификация и авторизация
- роли и права доступа
- Kafka и другие брокеры сообщений
- Kubernetes / Docker-оркестрация
- микросервисная архитектура
- frontend / UI

Далее README будет дополняться по мере развития проекта.
